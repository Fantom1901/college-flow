# üèõÔ∏è Nixa Duty Core | Backend Specification
> **Project Status:** Design Phase üèóÔ∏è  
> **Author:** [Nixa_io](https://github.com/–í–∞—à_–ü—Ä–æ—Ñ–∏–ª—å)  
> **Target:** College Attendance & Duty Automation System

---

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–µ–∂—É—Ä—Å—Ç–≤ –∏ —É—á–µ—Ç–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –¥–ª—è –∫–æ–ª–ª–µ–¥–∂–∞. –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ **Telegram Mini App**, –æ–±—ä–µ–¥–∏–Ω—è—è —É–¥–æ–±—Å—Ç–≤–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
| –°–ª–æ–π         | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                       |
|:-------------|:---------------|:---------------------------------|
| **Language** | `Python 3.10+` | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ª–æ–≥–∏–∫–∏             |
| **Bot API**  | `Aiogram 3.x`  | –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Telegram        |
| **Database** | `PostgreSQL`   | –ù–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö         |
| **ORM**      | `SQLAlchemy`   | –û–û–ü-–ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ —Å –ë–î         |
| **Web API**  | `FastAPI`      | –°–≤—è–∑—å –±—ç–∫–µ–Ω–¥–∞ —Å React-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º |

---

## üë• –ò–µ—Ä–∞—Ä—Ö–∏—è —Ä–æ–ª–µ–π (RBAC)
- [x] **SuperAdmin** ‚Äî –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø.
- [x] **Admin (–ö—É—Ä–∞—Ç–æ—Ä)** ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–µ–π –≥—Ä—É–ø–ø–æ–π, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ—Å—Ç—ã.
- [x] **Moder (–°—Ç–∞—Ä–æ—Å—Ç–∞)** ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±–º–µ–Ω–æ–≤.
- [x] **User (–°—Ç—É–¥–µ–Ω—Ç)** ‚Äî –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö, –∑–∞—è–≤–∫–∏ –Ω–∞ –æ–±–º–µ–Ω.

---

## üìä –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
### 1. –°–∏—Å—Ç–µ–º–∞ –≤–µ—Å–æ–≤ (Dynamic Weight)
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –æ—Ç–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º `weight`.
- –ü–æ—Å–ª–µ –¥–µ–∂—É—Ä—Å—Ç–≤–∞: `weight += 1`.
- –ü—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ: `weight` –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º (—á–µ–ª–æ–≤–µ–∫ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Ç–æ–ø–µ –æ—á–µ—Ä–µ–¥–∏).

### 2. –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (Static Loop)
–¶–∏–∫–ª–∏—á–µ—Å–∫–∞—è –æ—á–µ—Ä–µ–¥—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø—ã. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –Ω–µ–¥–µ–ª–∏ –≤–ø–µ—Ä–µ–¥.

---

## üíæ –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Entity Relationship)



### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:
1. **User**: –•—Ä–∞–Ω–∏—Ç –ø—Ä–æ—Ñ–∏–ª—å, —Ä–æ–ª—å –∏ —Ç–µ–∫—É—â–∏–π ¬´–≤–µ—Å¬ª.
2. **Group**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ—Ç–æ–¥–∞ —Ä–æ—Ç–∞—Ü–∏–∏ –∏ –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫—É—Ä–∞—Ç–æ—Ä—É.
3. **DutySchedule**: –ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –¥–µ–∂—É—Ä—Å—Ç–≤.
4. **SwapRequest**: –õ–æ–≥–∏–∫–∞ –æ–±–º–µ–Ω–∞ –¥–µ–∂—É—Ä—Å—Ç–≤–∞–º–∏ –º–µ–∂–¥—É —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏.

---

## üöÄ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª API
### üì° Endpoints –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (React)
- `GET /api/v1/group/{id}/status` ‚Äî –¢–µ–∫—É—â–∏–µ –¥–µ–∂—É—Ä–Ω—ã–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.
- `POST /api/v1/swaps/create` ‚Äî –ò–Ω–∏—Ü–∏–∞—Ü–∏—è –æ–±–º–µ–Ω–∞.
- `PATCH /api/v1/attendance/mark` ‚Äî –û—Ç–º–µ—Ç–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏.

### ü§ñ –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞
- **Deep Linking**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –≥—Ä—É–ø–ø–µ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–µ.
- **Push Notifications**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–∂—É—Ä—Å—Ç–≤–µ –∑–∞ 24 —á–∞—Å–∞.

---

## üìà –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Roadmap)
- [ ] –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î –∏ –º–æ–¥–µ–ª–µ–π SQLAlchemy.
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ "Weight System".
- [ ] –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ API –¥–ª—è —Å–≤—è–∑–∏ —Å React.
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Aiogram (Mini App Launcher).
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ–±–º–µ–Ω–∞.

---
*Generated by Nixa_io ‚Äî Quality First.*